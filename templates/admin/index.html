{% extends 'admin/master.html' %}
{% block body %}
{{ super() }}

{% if current_user.is_authenticated %}

<!-- Content Header (Page header) -->
<section class="content-header">
  <h1>
    Cluster 
    <small>Queue and Usage</small>
</h1>
<ol class="breadcrumb">
    <li><a href="/admin"><i class="fa fa-dashboard"></i> Home</a></li>
    <li class="active"><i class="fa fa-info-circle"></i> Status</li>
</ol>
</section>

<section class="content">

  <!-- main row -->
  <div class="row">

    <!-- Full row section -->
    <section class="col-lg-12">
      <!-- Box div -->
      <div class="box box-solid bg-black-gradient" style="height: 200px">

        <!-- Box header -->
        <div class="box-header">
          <i class="fa fa-th"></i>
          <h3 class="box-title">Usage</h3>
          <div class="box-tools pull-right"></div>
        </div>
        <!-- // Box header -->

        <!-- Box content -->
        <div class="box-body border-radius-none">

          <!-- Content -->
          <div id="servicesDiv" class="chart" style="height: 100%;">

            <!-- First 1/2 of the box -->
            <div class="col-lg-6">
                <canvas id="cpuUsage" style="height: 100%;"></canvas>
            </div>            
            <!-- // First 1/2 of the box -->

            <!-- Second 1/2 of the box -->
            <div class="col-lg-6">
                <canvas id="memUsage" style="height: 100%;"></canvas>
            </div>            
            <!-- // Second 1/2 of the box -->

          </div>
          <!-- // Content -->

        </div>
        <!-- // Box content -->
        
      </div>
      <!-- // Box div -->
  </section>
    <!-- // Full row section -->

    <!-- Half row section -->
    <section class="col-lg-9">

      <!-- Box div -->
      <div class="box box-solid bg-black-gradient">

        <!-- Box header -->
        <div class="box-header">
          <i class="fa fa-th"></i>
          <h3 class="box-title">Queue</h3>
          <div class="box-tools pull-right"></div>
        </div>
        <!-- // Box header -->

        <!-- Box content -->
        <div class="box-body border-radius-none">

          <!-- Content -->
          <div id="queueDiv" class="chart" style="height: 100%;">
          </div>
          <!-- // Content -->

        </div>
        <!-- // Box content -->
        
      </div>
      <!-- // Box div -->

    </section>
    <!-- // Half row section -->

    <!-- Half row section -->
    <section class="col-lg-3">

      <!-- Box div -->
      <div class="box box-solid bg-black-gradient">

        <!-- Box header -->
        <div class="box-header">
          <i class="fa fa-th"></i>
          <h3 class="box-title">History</h3>
          <div class="box-tools pull-right"></div>
        </div>
        <!-- // Box header -->

        <!-- Box content -->
        <div class="box-body border-radius-none">

          <!-- Content -->
          <div id="historyDiv" class="chart" style="height: 100%;">
          </div>
          <!-- // Content -->

        </div>
        <!-- // Box content -->
        
      </div>
      <!-- // Box div -->
        
    </section>
    <!-- // Half row section -->

  </div>
  <!-- /.row (main row) -->

</section>
<!-- /.content -->
{% else %}

<center>
    <section class="content" style="color: white">
        <div class="col-sm-12">
            <h1>LPS Cluster</h1>
            <p class="lead">
                Authentication
            </p>
            <p>
                This is the web interface for the <i>LPS Cluster</i> project, <br>
                if you reached here and don't know why, please return.
            </p>
            {% if not current_user.is_authenticated %}
                <p>
                    <a class="btn btn-primary" href="{{ url_for('security.login') }}">Login</a>
                </p>
                {% endif %}
                <br>
                <p>
                    <a class="btn btn-primary" href="/"><i class="glyphicon glyphicon-chevron-left"></i> Back</a>
                </p>
            </div>
        </section>
    </center>

  <br><br><br><br><br><br><br><br><br>
  <br><br><br><br><br><br><br><br><br><br>
  {% endif %}

  {% endblock body %}
